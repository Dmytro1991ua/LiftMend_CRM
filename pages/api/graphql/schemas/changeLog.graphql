type FieldChange {
  """
  Name of the field that was changed
  """
  field: String!

  """
  Previous value of the field (null if create)
  """
  oldValue: JSONDataType

  """
  New value of the field (null if delete)
  """
  newValue: JSONDataType

  """
  Action type: create, update, delete
  """
  action: String!
}

type ChangeLog implements Node {
  """
  Unique identifier of the audit record
  """
  id: ID!

  """
  User who made the change. Null if system-generated
  """
  modifiedBy: String

  """
  Type of entity changed: RepairJob, ElevatorRecord, TechnicianRecord
  """
  entityType: String!

  """
  ID of the specific entity instance that was changed
  """
  entityId: String!

  """
  Timestamp of when the change occurred
  """
  createdAt: DateTime

  """
  Array of fields that actually changed
  """
  changeList: [FieldChange!]!
}

type ChangeLogEdge implements Edge {
  cursor: String!
  node: ChangeLog!
}

type ChangeLogConnection implements Connection {
  edges: [ChangeLogEdge!]!
  pageInfo: PageInfo!
  total: Int!
}

input ChangeLogFilterOptions {
  action: [String!]
  entityType: [String!]
}
